<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terra LUNA/UST ë™ì  ì–‘íŒ”ì €ìš¸ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            margin: 0;
            padding: 20px;
            color: white;
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .title {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .simulation-container {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .balance-scene {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
            position: relative;
            margin: 40px 0;
        }
        
        /* ë°›ì¹¨ëŒ€ */
        .balance-base {
            width: 100px;
            height: 30px;
            background: linear-gradient(45deg, #8B4513, #CD853F);
            position: absolute;
            bottom: 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 1;
        }
        
        /* ì¤‘ì•™ ì§€ì§€ëŒ€ */
        .balance-pole {
            width: 12px;
            height: 180px;
            background: linear-gradient(45deg, #8B4513, #CD853F);
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 6px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 2;
            transition: all 0.5s ease;
        }
        
        /* ì €ìš¸ëŒ€ */
        .balance-arm {
            width: 500px;
            height: 12px;
            background: linear-gradient(45deg, #8B4513, #CD853F);
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-250px, -50%) rotate(0deg);
            transform-origin: center center;
            border-radius: 6px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 3;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        /* ì¤‘ì•™ ë°›ì¹¨ì  */
        .fulcrum {
            width: 20px;
            height: 20px;
            background: #654321;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            border-radius: 3px;
            z-index: 4;
            transition: all 0.3s ease;
        }
        
        /* ì—°ê²° ì²´ì¸ */
        .chain {
            width: 3px;
            background: repeating-linear-gradient(
                to bottom,
                #444 0px,
                #444 4px,
                #666 4px,
                #666 8px
            );
            position: absolute;
            top: 50%;
            border-radius: 2px;
            transition: height 0.8s ease;
        }
        
        .chain-left {
            left: 100px;
            transform: translateY(-50%);
            height: 40px;
        }
        
        .chain-right {
            right: 100px;
            transform: translateY(-50%);
            height: 40px;
        }
        
        /* ì €ìš¸ ì ‘ì‹œ */
        .balance-plate {
            width: 100px;
            height: 15px;
            background: linear-gradient(45deg, #C0C0C0, #E8E8E8);
            border: 2px solid #999;
            border-radius: 50px;
            position: absolute;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            z-index: 5;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .left-plate {
            left: 50px;
            top: calc(50% + 40px);
        }
        
        .right-plate {
            right: 50px;
            top: calc(50% + 40px);
        }
        
        /* ì €ìš¸ ìœ„ì˜ ë¬´ê²Œì¶”ë“¤ */
        .weights {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
            position: absolute;
            top: -10px;
            transition: all 0.3s ease;
        }
        
        .weight {
            min-width: 60px;
            height: 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
        }
        
        .ust-weight {
            background: linear-gradient(45deg, #FF4444, #FF6666);
            color: white;
        }
        
        .luna-weight {
            background: linear-gradient(45deg, #4444FF, #6666FF);
            color: white;
        }
        
        .plate-label {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        /* ì»¨íŠ¸ë¡¤ íŒ¨ë„ */
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        .control-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF8E8E);
            border: none;
            color: white;
            padding: 15px 30px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        .control-btn.death-spiral {
            background: linear-gradient(45deg, #DC143C, #FF6347);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* ìƒíƒœ í‘œì‹œ */
        .status-display {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            text-align: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .status-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.3);
            flex: 1;
            min-width: 150px;
            transition: all 0.3s ease;
        }
        
        .status-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #FFD700;
            transition: all 0.3s ease;
        }
        
        .phase-indicator {
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            margin: 20px 0;
            padding: 15px;
            border-radius: 15px;
            transition: all 0.5s ease;
        }
        
        .phase-normal {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4CAF50;
            color: #4CAF50;
        }
        
        .phase-stress {
            background: rgba(255, 152, 0, 0.3);
            border: 2px solid #FF9800;
            color: #FF9800;
        }
        
        .phase-collapse {
            background: rgba(244, 67, 54, 0.3);
            border: 2px solid #F44336;
            color: #F44336;
            animation: collapse-warning 1s infinite alternate;
        }
        
        @keyframes collapse-warning {
            from { box-shadow: 0 0 10px rgba(244, 67, 54, 0.5); }
            to { box-shadow: 0 0 20px rgba(244, 67, 54, 0.8); }
        }
        
        /* íŠ¹ìˆ˜ íš¨ê³¼ */
        .crash-effect {
            transform: translateX(-50%) rotate(5deg) !important;
            background: linear-gradient(45deg, #AA3333, #CC5555) !important;
        }
        
        .broken-fulcrum {
            background: #AA3333 !important;
            animation: shake 0.5s infinite;
        }
        
        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) rotate(45deg); }
            25% { transform: translate(-48%, -50%) rotate(43deg); }
            75% { transform: translate(-52%, -50%) rotate(47deg); }
        }
        
        .falling-weight {
            animation: fall 2s ease-in infinite;
        }
        
        @keyframes fall {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(100px); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Terra LUNA/UST ë™ì  ì–‘íŒ”ì €ìš¸ ì‹œë®¬ë ˆì´ì…˜</h1>
        
        <div class="simulation-container">
            <div class="phase-indicator" id="phaseIndicator">
                ğŸŸ¢ ì •ìƒ ìƒíƒœ - ì•ˆì •ì  ê· í˜•
            </div>
            
            <div class="balance-scene">
                <div class="balance-base"></div>
                <div class="balance-pole" id="balancePole"></div>
                <div class="balance-arm" id="balanceArm"></div>
                <div class="fulcrum" id="fulcrum"></div>
                <div class="chain chain-left" id="chainLeft"></div>
                <div class="chain chain-right" id="chainRight"></div>
                
                <div class="balance-plate left-plate" id="leftPlate">
                    <div class="plate-label" style="color: #FF4444;">UST</div>
                    <div class="weights" id="ustWeights">
                        <div class="weight ust-weight" id="ustPrice">$1.00</div>
                    </div>
                </div>
                
                <div class="balance-plate right-plate" id="rightPlate">
                    <div class="plate-label" style="color: #4444FF;">LUNA</div>
                    <div class="weights" id="lunaWeights">
                        <div class="weight luna-weight" id="lunaPrice">$80.00</div>
                    </div>
                </div>
            </div>
            
            <div class="status-display">
                <div class="status-box">
                    <div>UST ê°€ê²©</div>
                    <div class="status-value" id="ustDisplay">$1.00</div>
                </div>
                <div class="status-box">
                    <div>LUNA ê°€ê²©</div>
                    <div class="status-value" id="lunaDisplay">$80.00</div>
                </div>
                <div class="status-box">
                    <div>ì‹œìŠ¤í…œ ìƒíƒœ</div>
                    <div class="status-value" id="systemStatus" style="color: #4CAF50;">ì•ˆì •</div>
                </div>
                <div class="status-box">
                    <div>ê· í˜•ë„</div>
                    <div class="status-value" id="balanceStatus">0Â°</div>
                </div>
            </div>
            
            <div class="controls">
                <button class="control-btn" onclick="startNormalOperation()">ğŸŸ¢ ì •ìƒ ìš´ì˜</button>
                <button class="control-btn" onclick="startStressTest()">ğŸŸ¡ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸</button>
                <button class="control-btn death-spiral" onclick="startDeathSpiral()">ğŸ”´ ë°ìŠ¤ ìŠ¤íŒŒì´ëŸ´</button>
                <button class="control-btn" onclick="resetSystem()">ğŸ”„ ì‹œìŠ¤í…œ ë¦¬ì…‹</button>
            </div>
        </div>
        
        <div style="background: rgba(0,0,0,0.4); padding: 25px; border-radius: 15px; margin-top: 30px; border: 2px solid #FFD700;">
            <h3 style="color: #FFD700; text-align: center; margin-bottom: 20px;">ğŸ® ì‹œë®¬ë ˆì´ì…˜ ì¡°ì‘ë²•</h3>
            <div style="font-size: 1.1em; line-height: 1.8;">
                <strong>ğŸŸ¢ ì •ìƒ ìš´ì˜:</strong> ì†ŒëŸ‰ì˜ ë³€ë™ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ê· í˜• ìœ ì§€<br><br>
                <strong>ğŸŸ¡ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸:</strong> ëŒ€ëŸ‰ ë§¤ë„ë¡œ ì‹œìŠ¤í…œì´ í”ë“¤ë¦¬ì§€ë§Œ ë³µêµ¬ ì‹œë„<br><br>
                <strong>ğŸ”´ ë°ìŠ¤ ìŠ¤íŒŒì´ëŸ´:</strong> ì„ê³„ì ì„ ë„˜ì–´ ì‹œìŠ¤í…œì´ ë¶•ê´´í•˜ëŠ” ê³¼ì • ì‹œë®¬ë ˆì´ì…˜<br><br>
                <strong>ğŸ”„ ì‹œìŠ¤í…œ ë¦¬ì…‹:</strong> ëª¨ë“  ì„¤ì •ì„ ì´ˆê¸° ìƒíƒœë¡œ ë³µêµ¬
            </div>
        </div>
    </div>

    <script>
        class TerraSimulation {
            constructor() {
                this.ustPrice = 1.00;
                this.lunaPrice = 80.00;
                this.phase = 'normal'; // normal, stress, collapse
                this.animationId = null;
                this.isRunning = false;
                
                this.elements = {
                    arm: document.getElementById('balanceArm'),
                    pole: document.getElementById('balancePole'),
                    fulcrum: document.getElementById('fulcrum'),
                    leftPlate: document.getElementById('leftPlate'),
                    rightPlate: document.getElementById('rightPlate'),
                    chainLeft: document.getElementById('chainLeft'),
                    chainRight: document.getElementById('chainRight'),
                    ustPrice: document.getElementById('ustPrice'),
                    lunaPrice: document.getElementById('lunaPrice'),
                    ustDisplay: document.getElementById('ustDisplay'),
                    lunaDisplay: document.getElementById('lunaDisplay'),
                    systemStatus: document.getElementById('systemStatus'),
                    balanceStatus: document.getElementById('balanceStatus'),
                    phaseIndicator: document.getElementById('phaseIndicator'),
                    ustWeights: document.getElementById('ustWeights'),
                    lunaWeights: document.getElementById('lunaWeights')
                };
            }
            
            updateDisplay() {
                this.elements.ustPrice.textContent = `$${this.ustPrice.toFixed(2)}`;
                this.elements.lunaPrice.textContent = `$${this.lunaPrice.toFixed(2)}`;
                this.elements.ustDisplay.textContent = `$${this.ustPrice.toFixed(2)}`;
                this.elements.lunaDisplay.textContent = `$${this.lunaPrice.toFixed(2)}`;
                
                // ì €ìš¸ ê¸°ìš¸ê¸° ê³„ì‚° (UST ê°€ê²©ì´ ë‚®ì„ìˆ˜ë¡ ì™¼ìª½ì´ ë¬´ê±°ì›Œì§)
                const priceRatio = this.ustPrice / 1.0;
                const angle = Math.max(-45, Math.min(45, (1 - priceRatio) * 60));
                
                this.elements.arm.style.transform = `translate(-250px, -50%) rotate(${angle}deg)`;
                this.elements.balanceStatus.textContent = `${angle.toFixed(1)}Â°`;
                
                // ì ‘ì‹œ ìœ„ì¹˜ ì¡°ì •
                const leftY = 40 + (angle * 1.5);
                const rightY = 40 - (angle * 1.5);
                const leftChainH = 40 + (angle * 1.5);
                const rightChainH = 40 - (angle * 1.5);
                
                this.elements.leftPlate.style.top = `calc(50% + ${leftY}px)`;
                this.elements.rightPlate.style.top = `calc(50% + ${rightY}px)`;
                this.elements.chainLeft.style.height = `${Math.max(10, leftChainH)}px`;
                this.elements.chainRight.style.height = `${Math.max(10, rightChainH)}px`;
                
                // ìƒíƒœ ì—…ë°ì´íŠ¸
                if (this.ustPrice >= 0.98) {
                    this.updatePhase('normal', 'ğŸŸ¢ ì •ìƒ ìƒíƒœ - ì•ˆì •ì  ê· í˜•', '#4CAF50', 'ì•ˆì •');
                } else if (this.ustPrice >= 0.50) {
                    this.updatePhase('stress', 'ğŸŸ¡ ìŠ¤íŠ¸ë ˆìŠ¤ ìƒíƒœ - ê· í˜• í”ë“¤ë¦¼', '#FF9800', 'ê²½ê³ ');
                } else {
                    this.updatePhase('collapse', 'ğŸ”´ ì‹œìŠ¤í…œ ë¶•ê´´ - ë°ìŠ¤ ìŠ¤íŒŒì´ëŸ¼', '#F44336', 'ë¶•ê´´');
                }
            }
            
            updatePhase(phase, text, color, status) {
                this.phase = phase;
                this.elements.phaseIndicator.textContent = text;
                this.elements.phaseIndicator.className = `phase-indicator phase-${phase}`;
                this.elements.systemStatus.textContent = status;
                this.elements.systemStatus.style.color = color;
                
                if (phase === 'collapse') {
                    this.elements.pole.classList.add('crash-effect');
                    this.elements.fulcrum.classList.add('broken-fulcrum');
                } else {
                    this.elements.pole.classList.remove('crash-effect');
                    this.elements.fulcrum.classList.remove('broken-fulcrum');
                }
            }
            
            normalOperation() {
                this.isRunning = true;
                const animate = () => {
                    if (!this.isRunning) return;
                    
                    // ì‘ì€ ë³€ë™ìœ¼ë¡œ ê· í˜• ìœ ì§€
                    const randomFactor = (Math.random() - 0.5) * 0.02;
                    this.ustPrice = Math.max(0.98, Math.min(1.02, this.ustPrice + randomFactor));
                    this.lunaPrice = Math.max(75, Math.min(85, 80 + (Math.random() - 0.5) * 2));
                    
                    this.updateDisplay();
                    this.animationId = requestAnimationFrame(animate);
                };
                animate();
            }
            
            stressTest() {
                this.isRunning = true;
                let time = 0;
                const animate = () => {
                    if (!this.isRunning) return;
                    
                    time += 0.05;
                    // ì ì§„ì ìœ¼ë¡œ UST ê°€ê²© í•˜ë½, LUNA ë°œí–‰ ì¦ê°€ë¡œ ê°€ê²© í•˜ë½
                    this.ustPrice = Math.max(0.70, 1.0 - Math.sin(time) * 0.15 - time * 0.02);
                    this.lunaPrice = Math.max(30, 80 - time * 8 - Math.sin(time * 2) * 5);
                    
                    // ë¬´ê²Œì¶” í”ë“¤ë¦¼ íš¨ê³¼
                    if (Math.random() < 0.1) {
                        this.addStressWeight();
                    }
                    
                    this.updateDisplay();
                    
                    if (time < 10) {
                        this.animationId = requestAnimationFrame(animate);
                    }
                };
                animate();
            }
            
            deathSpiral() {
                this.isRunning = true;
                let time = 0;
                const animate = () => {
                    if (!this.isRunning) return;
                    
                    time += 0.08;
                    // ê¸‰ê²©í•œ ë¶•ê´´ ì‹œë®¬ë ˆì´ì…˜
                    const collapseRate = Math.exp(time * 0.5);
                    this.ustPrice = Math.max(0.01, 1.0 / collapseRate);
                    this.lunaPrice = Math.max(0.001, 80 / (collapseRate * 2));
                    
                    // ë¬´ê²Œì¶” ë–¨ì–´ì§ íš¨ê³¼
                    if (Math.random() < 0.3) {
                        this.addFallingWeight();
                    }
                    
                    this.updateDisplay();
                    
                    if (time < 8) {
                        this.animationId = requestAnimationFrame(animate);
                    }
                };
                animate();
            }
            
            addStressWeight() {
                const isUST = Math.random() < 0.7; // UST ë§¤ë„ ì••ë ¥ì´ ë” í¼
                const container = isUST ? this.elements.ustWeights : this.elements.lunaWeights;
                const weight = document.createElement('div');
                weight.className = `weight ${isUST ? 'ust-weight' : 'luna-weight'}`;
                weight.textContent = isUST ? 'ë§¤ë„ì••ë ¥' : 'ë°œí–‰ì¦ê°€';
                container.appendChild(weight);
                
                setTimeout(() => {
                    if (weight.parentNode) {
                        weight.parentNode.removeChild(weight);
                    }
                }, 2000);
            }
            
            addFallingWeight() {
                const container = Math.random() < 0.5 ? this.elements.ustWeights : this.elements.lunaWeights;
                const weight = document.createElement('div');
                weight.className = `weight ${Math.random() < 0.5 ? 'ust-weight' : 'luna-weight'} falling-weight`;
                weight.textContent = 'ë¶•ê´´';
                container.appendChild(weight);
                
                setTimeout(() => {
                    if (weight.parentNode) {
                        weight.parentNode.removeChild(weight);
                    }
                }, 2000);
            }
            
            reset() {
                this.isRunning = false;
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                }
                
                this.ustPrice = 1.00;
                this.lunaPrice = 80.00;
                
                // ëª¨ë“  ì¶”ê°€ ë¬´ê²Œì¶” ì œê±°
                this.elements.ustWeights.innerHTML = '<div class="weight ust-weight" id="ustPrice">$1.00</div>';
                this.elements.lunaWeights.innerHTML = '<div class="weight luna-weight" id="lunaPrice">$80.00</div>';
                
                // ì°¸ì¡° ì—…ë°ì´íŠ¸
                this.elements.ustPrice = document.getElementById('ustPrice');
                this.elements.lunaPrice = document.getElementById('lunaPrice');
                
                this.updateDisplay();
            }
        }
        
        const simulation = new TerraSimulation();
        
        function startNormalOperation() {
            simulation.reset();
            setTimeout(() => simulation.normalOperation(), 100);
        }
        
        function startStressTest() {
            simulation.reset();
            setTimeout(() => simulation.stressTest(), 100);
        }
        
        function startDeathSpiral() {
            simulation.reset();
            setTimeout(() => simulation.deathSpiral(), 100);
        }
        
        function resetSystem() {
            simulation.reset();
        }
        
        // ì´ˆê¸° ìƒíƒœë¡œ ì •ìƒ ìš´ì˜ ì‹œì‘
        startNormalOperation();
    </script>
</body>
</html>